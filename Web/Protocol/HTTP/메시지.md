## HTTP 메시지

1. Request

   1. HTTP 요청 메시지 형식은 다음과 같다.

      <img src="https://github.com/976520/TIL/assets/123460320/b5939c22-b3ce-4e04-a0cc-248505994b7d" width="300"/>

      1. Start line

         메소드 + URL + 버전 으로 이루어져있다.

         URL은 대상 경로를 표시하는 것이며, 버전은 사용된 HTTP의 버전을 뜻한다.

      2. headers

         여기는 HTTP 전송에 필요한 모든 부가 정보를 담는 곳이다.

      3. blank line

         요청에 대한 모든 메타 정보가 전송되었음을 알리는 용도이다.

      4. body

         요청을 할 때 함께 보낼 데이터를 담는 부분으로, GET, HEAD, DELETE, OPTIONS처럼 리소스를 가져요는 요청은 Body에 포함하지 않는다.

   2. 다음은 HTTP에서 지원하는 메소드의 일부를 기술한 것이다.

      1. `GET` **리소스를 조회**한다. 메시지 바디를 이용해서 데이터를 전달할 수 있지만, 지원하지 않는 곳이 더 많아서 권장하지 않는다.
      2. `POST` 요청 **데이터를 처리**한다. 메시지 바디를 이용해서 서버로 요청 데이터를 전달하며, 서버는 이를 통해 들어온 데이터를 처리하는 모든 기능을 수행한다.
      3. `PUT` 만약 리소스가 있을 시 이를 **완전히 대체**하며, 없을 시 리소스를 생성한다.

         <img src="https://github.com/976520/TIL/assets/123460320/13fdff9b-c0fa-4e7b-a094-49f91c2cb30b" width="400" />
         <br>
         <img src="https://github.com/976520/TIL/assets/123460320/40785c53-894a-4d45-a44d-42c8de55b9da" width="400" />

      4. `PATCH` 만약 리소스가 있을 시 **요청한 부분만 대체**한다.

         <img src="https://github.com/976520/TIL/assets/123460320/13fdff9b-c0fa-4e7b-a094-49f91c2cb30b" width="400" />  
         <br>
         <img src="https://github.com/976520/TIL/assets/123460320/25a5cb8c-7df4-4424-8b7d-61dffa15feca" width="400"/>

      5. `DELETE` 리소스를 제거한다.
      6. `HEAD` 헤더 정보만 요청한다.
      7. `OPTIONS` 서버가 지원하는 메서드의 종류를 받는다.
      8. `TRACE` 클라이언트가 서버에 송신한 내용을 반환한다.

2. Response

   HTTP state라고 하며, HTTP요청에 대한 서버의 응답 코드이다. 이는 첫번째 숫자에 따라 크게 5가지로 분류된다.

   1. 1XX (Informational), 조건부 응답

      요청이 수신되어 **작업을 진행 중** 이라는 의미이다.

      1. `100` (Continue) 요청에 문제가 없으니 **다음 요청을 이어서 보내**라는 의미이다.

      2. `102` (Processing) 요청을 처리하고 있지만 **아직 제대로 된 응답을 할 수 없다**는 의미이다.
      3. `103` (Early Hints) 서버가 응답을 준비하는 동안 사용자가 PreLoading을 할 수 있게 하는 코드이다.

   2. 2XX (Successful), 성공

      요청을 **정상적으로 처리**했음을 뜻한다.

      1. `200` (OK) 요청이 **성공적으로 처리**했다는 것을 뜻하며, 주로 GET요청에 대한 응답으로 쓰인다.
      2. `201`(Created) 요청이 성공적으로 수행되어서 **새 리소스가 생성**되었음을 의미하며, 주로 POST요청에 대한 응답으로 쓰인다.
      3. `202` (Accepted) 요청은 **받아들여졌지만, 처리되지 않았음**을 의미한다.
      4. `203` (Non-Authoritative Information) 요청이 성공적으로 수행되었으나, **요청에 대한 검증이 되지 않음**을 의미한다.
      5. `204` (No Content) 요청이 성공적으로 수행되었지만, **Content를 제공할 수 없는 상태**임을 의미한다. 주로 DELETE 요청에 대한 응답으로 쓰인다.
      6. `205` (Reset Content) 서버가 요청을 성공적으로 처리했지만, **Content를 표시하지 않는다**는 의미이다.
      7. `206` (Partial Content) 서버가 **요청의 일부만을 성공적으로 처리**했음을 의미한다.

   3. 3XX (Redirection), 리다이렉션

      요청을 완료하기 위해 **추가 동작(Redirection)이 필요함**을 의미한다. 자동으로 헤더의 location 필드의 URL을 보내서 Redirect한다.

      1. `300` (Multiple Choices) 요청에 대한 **리소스가 여러개 존재**함을 의미한다.
      2. `301` (Moved Permanently) **영구적으로 Content가 이동**했을 때 사용된다.
      3. `302` (Found) **일시적으로 Content가 이동**했을 때 사용된다.
      4. `303` (See Other) **요청한 리소스를 다른 URL에서 GET요청**을 통해 얻어야 할 때 사용된다.
      5. `304` (Not Modified) 리소스가 수정되지 않음을 의미한다. 이를 받을 시, 클라이언트는 서버로부터 리소스를 재전송 받지 않고, **브라우저에 캐싱된 리소스를 사용**한다.
      6. `307` (Temporary Redirect) 302와 동일하게 일시적으로 Content가 이동했을 때 사용되나, HTTP 메소드의 변경을 허용하지 않는다.
      7. `308` (Permanent Redirect) 301와 동일하게 영구적으로 Content가 이동했을 때 사용되나, HTTP 메소드의 변경을 허용하지 않는다.

   4. 4XX (Client Error), 클라이언트 오류

      클라이언트의 요청의 잘못된 문법 등으로 서버가 요청을 수행할 수 없을 때 발생한다. 이미 클라이언트가 잘못된 요청을 보내고 있기 때문에, 같은 요청을 다시 보내도 실패한다.

      1. `400` (Bad Request) **클라이언트의 잘못된 요청**으로 인해 서버가 요청을 처리할 수 없다는 의미이다.
      2. `401` (Unauthorized) 클라이언트가 **해당 리소스에 대한 인증이 필요**한 상태일 때 사용된다.
      3. `403` (Forbidden) 서버가 요청을 이해하기는 했지만, **승인을 거부**했을 때 사용된다,
      4. `404` (Not Found) **요청 리소스를 찾을 수 없을 때** 사용된다.
      5. `405` (Method Not Allowed) **현재 리소스에 맞지 않는 메소드를 요청**했음을 의미한다.
      6. `406` (No Acceptable) **알맞은 Content 타입이 없음**을 의미한다. 즉, 서버의 리소스가 클라이언트의 HTTP 헤더에 들어있는 Accpet 필드에 명시된 콘텐츠 타입이 아닌 경우에 해당한다.
      7. `407` (Proxy Authentication Required) **프록시 인증이 필요**하다는 의미이다.
      8. `408` (Request Timeout) 요청 중 **시간이 초과**되었을 때 사용된다.

   5. 5XX (Server Error), 서버 오류

      서버의 문제로 인해 요청을 실행할 수 없을 때 발생한다. 문제가 서버에 있기 때문에, 같은 요청을 다시 보내면 성공할 수 있다.

      1. `500` (Internal Server Error) **서버에 오류가 발생**하여 응답할 수 없거나, 처리 방법을 알 수 없을 경우에 사용한다.
      2. `501` (Not Implemented) 클라이언트 요청에 대한 **서버의 응답 수행 기능이 없음**을 의미한다.
      3. `502` (Bad Gateway) 서버의 **부모 서버에서 오류가 발생한 경우**에 사용되며, 일반적으로 접속자가 많아 과부하가 된 경우의 응답이다.
      4. `503` (Service Unavailable) 서버가 **요청을 처리할 준비가 되지 않았음**을 의미한다.

---
